<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1.0,user-scalable=no">
    <link href="../../../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="../../../vendors/nprogress/nprogress.css" rel="stylesheet">
    <link href="../../../vendors/iCheck/skins/flat/green.css" rel="stylesheet">
    <link href="../../../vendors/google-code-prettify/bin/prettify.min.css" rel="stylesheet">
    <link href="../../../vendors/select2/dist/css/select2.min.css" rel="stylesheet">
    <link href="../../../vendors/switchery/dist/switchery.min.css" rel="stylesheet">
    <link href="../../../vendors/starrr/dist/starrr.css" rel="stylesheet">
    <link href="../../../vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet">
    <link href="../../../vendors/jqvmap/dist/jqvmap.min.css" rel="stylesheet"/>
    <link href="../../../vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">
    <link href="../../../build/css/custom.min.css" rel="stylesheet">
    <link href="../../../build/css/ztree/zTreeStyle.css" rel="stylesheet">
    <link href="../../../vendors/Pagenation/DataTables-1.10.10/media/css/dataTables.bootstrap.min.css" rel="stylesheet" >
    <link href="../../../build/js/zebra/css/flat/zebra_dialog.css" rel="stylesheet">
    <link href="../../../build/js/zebra/css/style.css" type="text/css">
    <link href="../../../vendors/bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.css" rel="stylesheet">
    <link href="../../../build/js/zebra/libraries/highlight/public/css/ir_black.css" type="text/css">
    <link href="../../css/utils/jquery-confirm.css" rel="stylesheet">
    <link href="../../css/parts/baseman/organizationStructure.css" rel="stylesheet">
    
</head>
<style>
        .error{
            color:dodgerblue;
        }
        .input-file{
		    display: inline-block;
		    position: relative;
		    overflow: hidden;
		    text-align: center;
		    width: auto;
		    background-color: #2c7;
		    border: solid 1px #ddd;
		    border-radius: 4px;
		    padding: 5px 10px;
		    font-size: 12px;
		    font-weight: normal;
		    line-height: 18px;
		    color:#fff;
		    text-decoration: none;
		}
		.input-file input[type="file"] {
		    position: absolute;
		    top: 0;
		    right: 0;
		    font-size: 14px;
		    background-color: #fff;
		    transform: translate(-300px, 0px) scale(4);
		    height: 40px;
		    opacity: 0;
		    filter: alpha(opacity=0);
		 }
    </style>
<body class="nav-md" style="background-color: #fff;">
<!-- 树性结构 -->
<div class="row">
    <div class="col-md-3 col-sm-12 col-xs-12" >
        <div class="x_panel">
            <div class="x_title">
                <h2>组织架构 <small></small></h2>
                <ul class="nav navbar-right panel_toolbox">

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <ul id = "dropdown-menu" class="dropdown-menu" role="menu">
                            <li><a id="exportUser" href="#" onclick="exportUser()" data-toggle='modal'>Excel导入人员</a></li>
                            <li><a id="addUser" href="#" onclick="addUserDiv()" data-toggle="modal">增加人员</a></li>
                            <li><a id="" href="#" onclick="uploadModel()" data-toggle="modal">批量修改学生信息</a></li>
                        </ul>
                    </li>

                </ul>
                <div class="clearfix"></div>
            </div>
                <div class="x_content" style="max-height: 600px;overflow-x: hidden;overflow-y: auto">
                    <p id="dataLoadIng" class="gap">数据加载中，请稍后...</p>
                    <div>
                        <ul id="tree" class="ztree"></ul>
                    </div>
                </div>
            </div>
        </div>
    <div class="col-md-9 col-sm-12 col-xs-12">
            <div class="x_panel">
                <div class="x_title">
                    <h2>人员数据</h2>
                    <div class="clearfix"></div>
                </div>
                <div class="x_content">

                    <div class="input-group well" style="width: 100%">
                        <div>
                            <label style=";float: left;padding-top: 10px;">学/工号：</label>
                            <div class="col-md-3" style="display: inline-block;float: left">
                                <input id="xgh" class="form-control col-md-7" placeholder="请输入学工号" type="text">
                            </div>

                            <label style="float: left;padding-top: 10px;margin-left: 10px;">姓名：</label>
                            <div class="col-md-3" style="display: inline-block;">
                                <input id="realName" class="form-control col-md-7 col-xs-12" placeholder="请输入搜索姓名" type="text">
                            </div>
														<label style="line-height: 32px;">
																<!--默认被选中+checked-->
																<input id="isShow" name="isShow" type="checkbox" class="js-switch" /> 只显示离校学生
														</label>
                            <button id="searchUserList" type="button" class="btn btn-success" style="float: right">搜索</button>
                        </div>
                    </div>

                    <!-- 数据展示 -->
                    <table id="datatable" class="table table-striped table-bordered jambo_table bulk_action" data-page-length="10" style="width: 100%">
                        <thead>
                        <tr>
                            <th data-data="userID" data-visible="false">Id</th>
                            <th data-data="realName" width="10%" data-orderable="false">姓名</th>
                            <th data-data="xgh" width="12%" data-orderable="false">学工号</th>
                            <th data-data="sex" width="6%" data-orderable="false">性别</th>
                            <th data-data="idType" width="9%" data-orderable="false">身份类别</th>
                            <th data-data="mz" width="10%" data-orderable="false">民族</th>
                            <th data-data="departName" width="33%" data-orderable="false">隶属组织机构</th>
                            <th data-orderable="false" width="20%">操作</th>
                        </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>

</div>

<!-- 添加部门div -->
<div class="modal fade" id="addDepart_div" tabindex="-1" role="dialog" aria-labelledby="addDepart">
    <div class="modal-dialog" role="document" style="width: 500px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="addDepart_h4">添加部门</h4>
                <div class="x_content">
                    <form class="form-horizontal form-label-left">
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" id="depatName_label">部门名字</label>
                            <div class="col-md-6 col-sm-9 col-xs-12">
                                <input id="departName" maxlength="12" onkeyup="value=value.replace(/[^\w\u4E00-\u9FA5]/g, '')" class="form-control" required="required"/>
                            </div>
                        </div>
                        <div class="form-group" id="departType_div">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">部门性质</label>
                            <div class="radio">
                                <label><input type="radio" name="adepartType" value="0" checked><i>✓</i>行政部门</label>
                                <label><input type="radio" name="adepartType" value="1"><i>✓</i>教学部门</label>
                            </div>
                        </div>
                    </form>
                </div>
                <div id="div_tip"> 提示：部门负责人只能从用户列表中选择用户为部门负责人</div>
            </div>
            <div class="modal-footer">
                <div class="col-md-9 col-sm-6 col-xs-12 col-md-offset-3">
                    <button type='button' id="close" class='btn btn-primary' style='float: right' data-toggle='modal' data-target='#addDepart_div'>关闭</button>
                    <button type='button' onclick="addDepart()" class='btn btn-success' style='float: right'>添加</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 修改部门-->
<div class="modal fade" id="updateDepart_div" tabindex="-1" role="dialog" aria-labelledby="updateDepart">
    <div class="modal-dialog" role="document" style="width: 500px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="updateDepart_h4">修改部门</h4>
                <div class="x_content">
                    <form class="form-horizontal form-label-left">
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" id="udepatName_label">部门名字</label>
                            <div class="col-md-6 col-sm-9 col-xs-12">
                                <input id="newDepartName" maxlength="12" onkeyup="value=value.replace(/[^\w\u4E00-\u9FA5]/g, '')" class="form-control" required="required"/>
                            </div>
                        </div>
                        <div class="form-group" id="udepartType_div">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">部门性质</label>
                            <div class="radio">
                                <label><input type="radio" name="udepartType" value="0" checked><i>✓</i>行政部门</label>
                                <label><input type="radio" name="udepartType" value="1"><i>✓</i>教学部门</label>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <div class="col-md-9 col-sm-6 col-xs-12 col-md-offset-3">
                    <button type='button' id="updateClose" class='btn btn-primary' style='float: right' data-toggle='modal' data-target='#updateDepart_div'>关闭</button>
                    <button type='button' onclick="updateDepart()" class='btn btn-success' style='float: right'>修改</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 删除部门-->
<div class="modal fade" id="delDepart_div" tabindex="-1" role="dialog" aria-labelledby="delDepart">
    <div class="modal-dialog" role="document" style="width: 500px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">删除部门</h4>
                <div class="x_content">
                    删除当前部门时，会同时删除子部门，确定要执行删除操作？
                </div>
            </div>
            <div class="modal-footer">
                <div class="col-md-9 col-sm-6 col-xs-12 col-md-offset-3">
                    <button type='button' id="delClose" class='btn btn-primary' style='float: right' data-toggle='modal' data-target='#delDepart_div'>关闭</button>
                    <button type='button' onclick="delDepart()" class='btn btn-success' style='float: right'>确定</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 按部门导出人员数据 -->
<div class="modal fade" id="exportUserByDepart_div" tabindex="-1" role="dialog" aria-labelledby="exportUserByDepart">
    <div class="modal-dialog" role="document" style="width: 500px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">导出用户数据</h4>
                <div class="x_content">
                    当前操作部门为：<label id="exportDepartName"></label>
                    <div style="display: flex;margin-top: 6px;">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12 efs" style="padding: 0px;">请选择人员类型</label>
                        <div>
                            <label class="efsxx"><input type="radio" name="identity" class="identity" value="0" checked><i>✓</i>全部</label>
                            <label class="efsxx"><input type="radio" name="identity" class="identity" value="1"><i>✓</i>教师</label>
                            <label class="efsxx"><input type="radio" name="identity" class="identity" value="3"><i>✓</i>学生</label>
                            <!--<label class="efsxx"><input type="radio" name="identity" class="identity" value="2"><i>✓</i>家长</label>-->
                        </div>
                    </div>
                </div>
            </div>
            <a href="" download="人员数据.xlsx" id="hf"></a>
            <div class="modal-footer">
                <div class="col-md-9 col-sm-6 col-xs-12 col-md-offset-3">
                    <button type='button' id="exportUserByDepartClose" class='btn btn-primary' style='float: right' data-toggle='modal' data-target='#exportUserByDepart_div'>关闭</button>
                    <button type='button' onclick="exportUserByDepart()" class='btn btn-success' style='float: right'>下载</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!--导入人员信息 -->
<div class="modal fade" id="exportUser_div" tabindex="-1" role="dialog" aria-labelledby="exportUser">
    <div class="modal-dialog" role="document" style="width: 500px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <h2 class="modal-title">Excel导入人员数据</h2>

                <div class="x_content">
                    <div id="report-file" class="report-file">
                        <span>点击选择要上传的Excel文件</span>
                        <input id="files" tabindex="3" size="5" name="files" class="file-prew" type="file"/>
                    </div>
                    <div style="height: 28px;line-height: 28px;font-size: 10px;text-align: right;">
                        <span id="displayFileName" style="float: left;overflow: hidden;width:18%;"></span>
                        选择导入模板：
                        <a href="javascript:void(0);" onclick="excelTempletTeacher()" download="teacher.xlsx" id="teacher">教师</a>|
                        <a href="javascript:void(0);" onclick="excelTempletStudent()" download="student.xlsx" id="student">学生</a>
                        <!--<a href="javascript:void(0);" onclick="excelTempletParent()" download="parent.xlsx" id="parent">家长</a>-->
                    </div>
                </div>
            </div>
            <div id="wrapper" style="border: none;">
                <div id="nprogressbar" style="border: none">
                    <div id="fill"></div>
                </div>
            </div>
            <div class="modal-footer" style="padding-bottom:0px;">
                <div class="col-md-9 col-sm-6 col-xs-12 col-md-offset-3">
                    <button type='button' id="exportUserClose" class='btn btn-primary' style='float: right' data-toggle='modal' data-target='#exportUser_div'>关闭</button>
                    <button type='button' onclick="uploadUser()" class='btn btn-success' style='float: right'>上传</button>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- 添加单个人员信息 -->
<div class="modal fade" id="addUser_div" tabindex="-1" role="dialog" aria-labelledby="addUser" style="">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="width: 100%">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h2 class="modal-title" id="addModalLabel">增加人员基础信息</h2>
            </div>
            <div class="col-md-6 col-xs-12" style="width: 100%">
                <div class="x_content">
                    <br />
                    <form class="form-horizontal form-label-left" id="updateForm">
                        <input type="text" id="updateID" hidden />
                        <input type="text" id="updateSchoolID" hidden />
                        <div class="form-group" >
                            <div style="display: flex">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12">姓名</label>
                                <div class="col-md-4 col-sm-9 col-xs-12">
                                    <input type="text" id="userName" class="form-control" placeholder="请填写用户姓名" maxlength="10"/>
                                </div>
                            </div>
                            <div style="display: flex;margin-top: 6px;">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12">身份类别</label>
                                <div class="radio">
                                    <label><input type="radio" onclick="radioClick(this,2)" name="identity" class="identity" value="1" checked><i>✓</i>教师</label>
                                    <label><input type="radio" onclick="radioClick(this,2)" name="identity" class="identity" value="3"><i>✓</i>学生</label>
                                    <!--<label><input type="radio" onclick="radioClick(this,2)" name="identity" class="identity" value="2"><i>✓</i>家长</label>-->
                                </div>
                            </div>
                            <!-- 学工号 -->
                            <div style="display: flex;margin-top: 6px;">
                                <label id="userPrimaryKey" class="control-label col-md-3 col-sm-3 col-xs-12">学工号</label>
                                <div class="col-md-4 col-sm-9 col-xs-12">
                                    <input id="xh" class="form-control"  placeholder="请填写用户学工号" maxlength="20" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')"/>
                                </div>
                            </div>
                            <!-- 用户证件照-->
                            <div class="userHeadImgDiv">
                                <a id="a_userHeadImgClick" onclick="openfile(this,'a_userHeadFile')">
                                    <img id="a_userHeadImg" width="110px" height="110px">
                                </a>
                                <input type="file" style="display:none" id="a_userHeadFile"/>
                            </div>

                        </div>
                         <!--证件信息-->
                        <div id="idType_div" class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">证件信息</label>
                            <div class="col-md-7 col-sm-9 col-xs-12">
                                <div id="a_divselect">
                                    <cite id="a_citeClick">选择证件类型</cite>
                                    <ul id="a_divselect_ul" class="select2_single form-control">
                                        <li><a href="javascript:;" selectid="1">身份证</a></li>
                                        <li><a href="javascript:;" selectid="2">护照</a></li>
                                        <li><a href="javascript:;" selectid="3">军人证</a></li>
                                        <li><a href="javascript:;" selectid="4">驾驶证</a></li>
                                        <li><a href="javascript:;" selectid="5">教师证</a></li>
                                    </ul>
                                </div>
                                <input type="text" id="zjhm" placeholder="请填写证件号码" class="form-control" style="width:65%;" maxlength="20" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')"/>
                            </div>
                        </div>

					   <!--学生身份证-->
					    <div id="s_a_idtype_div" style="display: none" class="form-group">
	                        <label class="control-label col-md-3 col-sm-3 col-xs-12">身份证信息</label>
	                        <div class="col-md-5 col-sm-9 col-xs-12">
	                            <input type="text" id="s_zjhm" placeholder="请填写身份证号码" class="form-control" maxlength="20" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')"/>
	                        </div>
                        </div>
						
                        <div id="a_xjh_div" class="form-group" style="display: none">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">学籍号</label>
                            <div class="col-md-5 col-sm-9 col-xs-12">
                                <input id="a_xjh" class="form-control" type="text" placeholder="请填写用户学籍号" maxlength="16" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')"/>
                            </div>
                        </div>
                        <!-- 性别 -->
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">性别</label>
                            <div class="radio">
                                <label><input type="radio" onclick="radioClick(this,1)" name="sex" value="1" checked><i>✓</i>男&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                <label><input type="radio" onclick="radioClick(this,1)" name="sex" value="2"><i>✓</i>女</label>
                            </div>
                        </div>
                        <!-- 民族 -->
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">所属民族</label>
                            <div class="col-md-7 col-sm-9 col-xs-12">
                                <div id="a_mz_div">
                                    <select id="a_mz" class="prov"></select>
                                </div>
                            </div>
                        </div>
                        <!--手机号码-->
                        <div id="a_userMobile_div" class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">手机号码</label>
                            <div class="col-md-7 col-sm-9 col-xs-12">
                                <input id="a_userMobile" class="form-control" type="text" placeholder="请填写用户手机号码" maxlength="11"/>
                            </div>
                        </div>
                        <!--出生日期-->
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">出生日期</label>
                            <div class="col-md-7 col-sm-9 col-xs-12">
                                <input id="birthday" class="form-control" type="text" placeholder="请选择用户出生日期"/>
                            </div>
                        </div>
                        <div id="a_jg_div" class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">籍贯</label>
                            <div class="col-md-7 col-sm-9 col-xs-12">
                                <div id="city_5">
                                    <select id="a_prov" class="prov"><option value="0">---省/区---</option></select>
                                    <span>省</span>
                                    <select id="a_city" class="city" style="width: 160px"><option value="0">---市/州---</option></select>
                                    <span>市</span>
                                </div>
                            </div>
                        </div>
                        <div id="a_address_div" class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">家庭住址</label>
                            <div class="col-md-7 col-sm-9 col-xs-12">
                                <input id="address" class="form-control" type="text" placeholder="请填写用户家庭住址" maxlength="30"/>
                            </div>
                        </div>
                     	
                        <!--学生部分-->
                        <div id="stu_p_div" >
                        	<!-- 学生状态 -->
	                        <!--<div class="form-group" >
	                            <label class="control-label col-md-3 col-sm-3 col-xs-12">学生状态</label>
	                            <div class="radio">
	                                <label><input type="radio" onclick="radioClick(this,3)" checked name="s_status" value="1"><i>✓</i>在校&nbsp;&nbsp;&nbsp;&nbsp;</label>
	                                <label><input type="radio" onclick="radioClick(this,3)" name="s_status" value="2"><i>✓</i>离校&nbsp;&nbsp;&nbsp;&nbsp;</label>
	                                <label><input type="radio" onclick="radioClick(this,3)" name="s_status" value="3"><i>✓</i>休学</label>	                                
	                            </div>
	                        </div>-->
	                        <!--学生是否住校-->
	                        <div class="form-group">
	                        	 <label class="control-label col-md-3 col-sm-3 col-xs-12">是否住校</label>
	                            <div class="radio">
	                                <label><input type="radio" onclick="radioClick(this,4)" checked name="s_is_nonresident_a" value="1"><i>✓</i>走读&nbsp;&nbsp;&nbsp;&nbsp;</label>
	                                <label><input type="radio" onclick="radioClick(this,4)" name="s_is_nonresident_a" value="0"><i>✓</i>住校</label>	                                
	                            </div>
	                        </div>
                     		<!--家长部分-->
                        	<div class="form-group">
                        		 <label class="control-label col-md-3 col-sm-3 col-xs-12">家长姓名</label>
	                            <div class="col-md-5 col-sm-9 col-xs-12">
	                                <input id="p_name" class="form-control" type="text" placeholder="请填写家长姓名" maxlength="30"/>
	                            </div>
                        	</div>
                        	<div class="form-group">
                        		 <label class="control-label col-md-3 col-sm-3 col-xs-12">家长手机号</label>
	                            <div class="col-md-5 col-sm-9 col-xs-12">
	                                <input id="p_phone" class="form-control" type="text" placeholder="请填写家长手机号" maxlength="30"/>
	                            </div>
                        	</div>
                        	 <!--证件信息-->
                        <div  class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">家长身份证信息</label>
                            <div class="col-md-5 col-sm-9 col-xs-12">
                                <input type="text" id="p_zjhm" placeholder="请填写家长身份证号码" class="form-control" maxlength="20" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')"/>
	                            </div>
	                        </div>
                        </div>
                        
                        
                        <hr style="margin-top: 10px;margin-bottom: 10px;"/>
                        <div id="checkedDepartDiv" class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">已选部门</label>
                            <div class="col-md-7 col-sm-9 col-xs-12">
                                <div class="tagator options-hidden">
                                    <div id="addOrganizationNameList" class="tagator_tags">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="uncheckedDepartDiv" class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">组织架构</label>
                            <div class="col-md-7 col-sm-9 col-xs-12" style="overflow:auto;">
                                <ul id="treeDemo" class="ztree" style="width: 100%;height: 150px;background-color: #f7f9fa"></ul>
                            </div>
                        </div>
                        <!-- 孩子相关的信息 -->
                        <div id="a_childList">
                        </div>
                        <br/>
                    </form>
                    <div class="modal-footer" style="padding-bottom:0px;">
                        <div class="col-md-7 col-sm-6 col-xs-12 col-md-offset-3">
                            <button type='button' id="addUserClose" class='btn btn-primary' style='float: right' data-toggle='modal' onclick="close_addUserModel(9)">关闭</button>
                            <button type='button' onclick="addUserInfo()" class='btn btn-success' style='float: right'>增加</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>

<!-- 修改单个人员信息 -->
<div class="modal fade" id="updateUser_div" tabindex="-1" role="dialog" aria-labelledby="updateUser" style="">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="width: 100%">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h2 class="modal-title" id="updateModalLabel">修改人员基础信息</h2>
            </div>
            <div class="col-md-6 col-xs-12" style="width: 100%">
                <div class="x_content">
                    <br />
                    <form class="form-horizontal form-label-left" id="u_updateForm">
                        <input type="text" id="u_updateID" hidden />
                        <input type="text" id="u_updateSchoolID" hidden />
                        <div class="form-group" >
                            <!-- 姓名 -->
                            <div style="display: flex">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12">姓名</label>
                                <div class="col-md-4 col-sm-9 col-xs-12">
                                    <input type="text" id="u_userName" class="form-control" maxlength="10"/>
                                </div>
                            </div>
                            <!-- 学工号 -->
                            <div style="display: flex;margin-top: 6px;">
                                <label id="u_userPrimaryKey" class="control-label col-md-3 col-sm-3 col-xs-12">学工号</label>
                                <div class="col-md-4 col-sm-9 col-xs-12">
                                    <input id="u_xh" class="form-control" maxlength="16" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')"/>
                                </div>
                            </div>
                            <!-- 性别 -->
                            <div style="display: flex;margin-top: 6px;">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12">性别</label>
                                <div class="radio">
                                    <label><input type="radio" onclick="radioClick(this,1)" name="sex" value="1"><i>✓</i>男&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                    <label><input type="radio" onclick="radioClick(this,1)" name="sex" value="2"><i>✓</i>女</label>
                                </div>
                            </div>
                            <!-- 用户证件照-->
                            <div class="userHeadImgDiv">
                                <a id="userHeadImgClick" onclick="openfile(this,'userHeadFile')">
                                    <img id="userHeadImg" width="110px" height="110px">
                                </a>
                                <input type="file" style="display:none" id="userHeadFile"/>
                            </div>
                        </div>
                        <!-- 证件类型 -->
                        <div id="u_idType_div" class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">证件信息</label>
                            <div class="col-md-7 col-sm-9 col-xs-12">
                                <div id="u_divselect">
                                    <cite id="u_citeClick">请选择身份证件类型</cite>
                                    <ul id="u_divselect_ul" class="select2_single form-control">
                                        <li><a href="javascript:;" selectid="1">身份证</a></li>
                                        <li><a href="javascript:;" selectid="2">护照</a></li>
                                        <li><a href="javascript:;" selectid="3">军官证</a></li>
                                        <li><a href="javascript:;" selectid="4">驾驶证</a></li>
                                        <li><a href="javascript:;" selectid="5">教师证</a></li>
                                    </ul>
                                </div>
                                <input type="text" id="u_zjhm" placeholder="请填写证件号码" class="form-control" style="width:65%;" maxlength="20" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')" /> 
                            </div>
                        </div>
                        
                        <!--学生身份证信息-->
					    <div id="s_u_idtype_div" style="display: none" class="form-group">
	                        <label class="control-label col-md-3 col-sm-3 col-xs-12">身份证信息</label>
	                        <div class="col-md-5 col-sm-9 col-xs-12">
	                            <input type="text" id="u_s_zjhm" placeholder="请填写身份证号码" class="form-control" maxlength="20" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')"/>
	                        </div>
                        </div>
                        
                        <div id="u_xjh_div" class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">学籍号</label>
                            <div class="col-md-5 col-sm-9 col-xs-12">
                                <input id="u_xjh" class="form-control" type="text" placeholder="请填写用户学籍号" maxlength="16" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')"/>
                            </div>
                        </div>
                        <!-- 民族 -->
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">所属民族</label>
                                <div class="col-md-7 col-sm-9 col-xs-12">
                                   <div id="u_mz_div">
                                     <select id="u_mz" class="prov"></select>
                                   </div>
                                </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">身份类别</label>
                            <div class="radio" id="identity_radio">
                                <label><input type="radio" name="identity" value="1" checked disabled><i>✓</i>教师</label>
                                <label><input type="radio" name="identity" value="3" checked disabled><i>✓</i>学生</label>
                                <!--<label><input type="radio" name="identity" value="2" checked disabled><i>✓</i>家长</label>-->
                                <label style="color: red;">[禁止修改]</label>
                            </div>
                        </div>
                        <!--手机号码-->
                        <div id="u_userMobile_div" class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">手机号码</label>
                            <div class="col-md-7 col-sm-9 col-xs-12">
                                <input id="u_userMobile" class="form-control" type="text" placeholder="请填写用户手机号码"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">出生日期</label>
                            <div class="col-md-7 col-sm-9 col-xs-12">
                                <input id="u_birthday" class="form-control" type="text"/>
                            </div>
                        </div>
                        <div id="u_jg_div" class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">籍贯</label>
                            <div class="col-md-7 col-sm-9 col-xs-12">
                                <div id="u_city_5">
                                    <select id="u_prov" class="prov"><option value="0">---省/区---</option></select>
                                    <span>省</span>
                                    <select id="u_city" class="city" style="width: 160px"><option value="0">---市/州---</option></select>
                                    <span>市</span>
                                </div>
                            </div>
                        </div>
                        <div id="u_address_div" class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">家庭住址</label>
                            <div class="col-md-7 col-sm-9 col-xs-12">
                                <input id="u_address" class="form-control" type="text" placeholder="请填写家庭住址" maxlength="30"/>
                            </div>
                        </div>
                        
                        <!--学生部分-->
                        <div id="u_stu_p_div">
                        	<!-- 学生状态 -->
	                        <div class="form-group" >
	                            <label class="control-label col-md-3 col-sm-3 col-xs-12">学生状态</label>
	                            <div class="radio">
	                                <label><input type="radio" onclick="radioClick(this,3)" checked name="s_status" value="1"><i>✓</i>在校&nbsp;&nbsp;&nbsp;&nbsp;</label>
	                                <label><input type="radio" onclick="radioClick(this,3)" name="s_status" value="2"><i>✓</i>离校&nbsp;&nbsp;&nbsp;&nbsp;</label>
	                                <label><input type="radio" onclick="radioClick(this,3)" name="s_status" value="3"><i>✓</i>休学</label>	                                
	                            </div>
	                        </div>
	                        <!--学生是否住校-->
	                        <div class="form-group">
	                        	 <label class="control-label col-md-3 col-sm-3 col-xs-12">是否住校</label>
	                            <div class="radio">
	                                <label><input type="radio" onclick="radioClick(this,4)" checked name="s_is_nonresident_u" value="1"><i>✓</i>走读&nbsp;&nbsp;&nbsp;&nbsp;</label>
	                                <label><input type="radio" onclick="radioClick(this,4)" name="s_is_nonresident_u" value="0"><i>✓</i>住校</label>	                                
	                            </div>
	                        </div>
                     		<!--家长部分-->
                        	<div class="form-group">
                        		 <label class="control-label col-md-3 col-sm-3 col-xs-12">家长姓名</label>
	                            <div class="col-md-5 col-sm-9 col-xs-12">
	                                <input id="u_p_name" class="form-control" type="text" placeholder="请填写家长姓名" maxlength="30"/>
	                            </div>
                        	</div>
                        	<div class="form-group">
                        		 <label class="control-label col-md-3 col-sm-3 col-xs-12">家长手机号</label>
	                            <div class="col-md-5 col-sm-9 col-xs-12">
	                                <input id="u_p_phone"  class="form-control" type="text" placeholder="请填写家长手机号" maxlength="30"/>
	                                <input id="u_p_userId" hidden="hidden"/>
	                            </div>
                        	</div>
                        	 <!--证件信息-->
                        <div  class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">家长身份证信息</label>
                            <div class="col-md-5 col-sm-9 col-xs-12">
                                <input type="text" id="u_p_zjhm" placeholder="请填写家长身份证号码" class="form-control" maxlength="20" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')"/>
	                            </div>
	                        </div>
                        </div>
                        
                        
                        <hr style="margin-top: 10px;margin-bottom: 10px;"/>
                        <div id="u_checkedDepartDiv" class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                <label id="organ">隶属部门</label>
                            </label>
                            <div class="col-md-7 col-sm-9 col-xs-12">
                                <div class="tagator options-hidden">
                                    <div id="organizationNameList" class="tagator_tags">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="u_uncheckedDepartDiv" class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">组织架构</label>
                            <div class="col-md-7 col-sm-9 col-xs-12" style="overflow:auto;">
                                <ul id="treeDepart" class="ztree" style="width: 100%;height: 150px;background-color: #f7f9fa"></ul>
                            </div>
                        </div>
                        <!-- 孩子相关的信息 -->
                        <div id="u_childList">
                        </div>
                    <br/>
                    </form>
                    <div class="modal-footer" style="padding-bottom: 0px;">
                        <div class="col-md-7 col-sm-6 col-xs-12 col-md-offset-3">
                            <button type='button' id="updateUserClose" class='btn btn-primary' style='float: right' data-toggle='modal' data-target='#updateUser_div'>关闭</button>
                            <button type='button' id="updateBtn" onclick="updateUserInfo()" class='btn btn-success' style='float: right'>确认修改</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>

<!-- 右键弹出框 -->
<div id="rMenu">
    <ul style="padding: 0;margin: 0">
        <li id="addDepart" style="position: relative" href="#" data-toggle='modal' onclick="addTreeNode();">增加部门</li>
        <li id="updateDepart" href="#" data-toggle='modal' onclick="updateTreeNode();">修改部门</li>
        <li id="delDepart" href="#" data-toggle='modal' onclick="removeTreeNode();">删除部门</li>
        <li id="exportUserByDepart" href="#" data-toggle='modal' onclick="exportUserByDepartNode();">导出用户数据</li>

    </ul>
</div>

<!--导入-->
<a download="错误数据.xlsx" id="hf_s_sub" ></a>
<div id="uploadModel" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3 class="modal-title">批量修改学生信息</h3>
            </div>
            <div class="col-md-6 col-xs-12" style="width: 100%">
                <div class="x_content">
                    <br />
                    <form class="form-horizontal form-label-left" id="saveForm3">
												<input type="text" id="uploadid" hidden>
												<input type="text" id="uploadname" hidden>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">选择所需修改Excel文件<span class="required">:</span></label>
                            <div class="col-md-8 col-sm-9 col-xs-12">
                            	<a class="input-file input-fileup" href="javascript:;">
								 + 选择文件
								 <!--<input size="100" type="file" name="file" id="file">-->
								 <input id="uploadGrade" onchange="importf(this)" size="100" name="files" type="file"/>
								</a>
								<div class="fileerrorTip1" id="download_type"></div>
								<div class="showFileName1" id="download_name"></div>
                            </div>
                        </div>
                        <br/>
                    </form>
                    <div id="jinduGIF" align="center"></div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="modal-footer">
                <button class="btn btn-success" id="uploadButton1" onclick="javascript:uploadGrade()">确认</button>
                <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clean_file()">关闭</button>
                <button class="btn btn-success" id="" onclick="javascript:uploadTemp()">模板下载</button>
            </div>
        </div>
    </div>
</div>

<a id="hr_temp" download="修改模板.xlsx"></a>

<script src="../../../vendors/jquery/dist/jquery.min.js"></script>
<script src="../../../vendors/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="../../../vendors/Pagenation/DataTables-1.10.10/media/js/jquery.dataTables.js"></script>
<script src="../../../vendors/Pagenation/DataTables-1.10.10/media/js/dataTables.bootstrap.js"></script>
<script src="../../../vendors/Pagenation/DataTables.js"></script>
<script src="../../../vendors/Pagenation/moment-with-locales.js"></script>
<script src="../../../vendors/iCheck/icheck.min.js"></script>
<script src="../../../vendors/moment/min/moment.min.js"></script>
<script src="../../../vendors/moment/locale/zh-cn.js"></script>
<!-- Switchery -->
<script src="../../../vendors/switchery/dist/switchery.min.js"></script>
<script src="../../../vendors/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
<script src="../../../build/js/ztree/jquery-migrate-1.2.1.js"></script>
<script src="../../../build/js/ztree/jquery.ztree.core-3.5.js" type="text/javascript"></script>
<script src="../../../build/js/ztree/jquery.ztree.excheck-3.5.js" type="text/javascript" ></script>
<script src="../../../build/js/ztree/jquery.ztree.exedit-3.5.js" type="text/javascript" ></script>
<script src="../../../build/js/zebra/js/zebra_dialog.js" type="text/javascript"></script>
<script src="../../../build/js/ajaxFileUpload/ajaxfileupload.js" type="text/javascript"></script>
<script src="../../js/utils/utils.js"></script>
<script src="../../js/utils/jquery-confirm.js"></script>
<script src="../../js/utils/informationPromptBox.js"></script>
<script src="../../js/utils/ImportAndExport.js"></script>
<script src="../../../build/js/xlsx.full.min.js"></script>
<script src="../../js/encrypt/md52.js"></script>
<!-- Custom Theme Scripts -->
<script src="../../../build/js/custom.js"></script>
<script src="../../js/baseman/organizationStructure.js"></script>
<script src="../../../build/js/zebra/commonZebraDialog.js"></script>
<script src="../../js/baseman/uploadStudent.js"></script>

</body>
</html>